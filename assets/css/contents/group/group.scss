/**************************************************
* GROUP LIST
**************************************************/

.groups-list {
	@include clearulli;

	> ul {
		@include columns;

		@include medium-or-more {
			justify-content: flex-start;
		}

		> li {
			@include columns_item(1/3);
			@include card_shadow();

			@include medium-or-more {
				&:not(:nth-child(3n+1)) {
					margin-left: column_gap();
				}
			}
		}
	}
}

/**************************************************
* GROUP
**************************************************/

.group {
	--color: $color_grey_light;

	.group-illustration {
		position:         relative;

		&::before {
			content:        '';
			display:        block;
			padding-bottom: (380 / 1366) * 100%;
		}

		background-color: var(--color);

		img {
			position:   absolute;
			top:        0;
			left:       0;
			width:      100%;
			height:     100%;
			object-fit: cover;
		}
	}

	.group-visibility__private {
		&::before {
			content: 'ðŸ”’';
		}
	}
}

/**************************************************
* GROUP TEASER
**************************************************/

.group__teaser {
	position:  relative;

	display:   flex;
	flex-flow: column nowrap;
	height:    100%;

	.group-illustration {
		&::before {
			padding-bottom: (165 / 292) * 100%;
		}
	}

	.group-content {
		position:  relative;

		flex-grow: 1;

		display:   flex;
		flex-flow: column nowrap;
		height:    100%;

		padding:   padding_vertical('small') padding_horizontal('small');

		@include large-or-more {
			padding: padding_vertical('large') padding_horizontal('large');
		}
	}

	.group-logo {
		position:      absolute;
		top:           rem(-20px);
		left:          padding_horizontal('small');
		width:         rem(40px);
		height:        rem(40px);
		border-radius: 50%;
		overflow:      hidden;
	}

	.group-name {
		margin-top: rem(4px);

		@include font_title_bold;

		a {
			color:           $color_default;
			text-decoration: none;
		}
	}

	.group-membership {
		position:         relative;
		top:              .05em;
		display:          inline-block;
		vertical-align:   baseline;
		width:            .8em;
		height:           .8em;
		background-color: $color_action;
		border-radius:    50%;

		overflow:         hidden;
		color:            transparent;

		&::after {
			content:       '';
			width:         60%;
			height:        40%;
			border-left:   3px solid white;
			border-bottom: 3px solid white;
			position:      absolute;
			top:           45%;
			left:          50%;
			transform:     translate(-50%, -50%) rotate(-45deg);
		}
	}

	.group-description {
		$line-height: line_height_default();
		line-height:            $line-height;
		height:                 4 * $line-height * 1em;
		overflow:               hidden;
		text-overflow:          ellipsis;
		text-overflow-ellipsis: "â€¦";
	}

	.group-members {
		margin-top: padding_vertical('small');
	}
}

/**************************************************
* GROUP FULL
**************************************************/

.group__full {
	.main--header--image {
		background-color: $color_grey_lighter;
		overflow:         hidden;

		img {
			filter: blur(20px);
		}
	}

	.main--header--content {
		flex-basis: 100%;
	}

	.main--header--group-infos {
		display:         flex;
		flex-flow:       row nowrap;
		justify-content: flex-start;
		align-items:     center;
	}

	.main--header--logo {
		margin-right:  column_gap();

		width:         rem(150px);
		height:        rem(150px);
		border-radius: 50%;
		overflow:      hidden;

		img {
			display:    block;
			width:      100%;
			height:     100%;
			object-fit: cover;
		}
	}

	.group-status + a {
		margin-top: 1rem;
	}

	.group-visibility__private::before {
		margin-right: .31em;
	}

	.group-infos {
		display:         flex;
		flex-flow:       row nowrap;
		justify-content: flex-start;
		align-items:     flex-start;
	}

	.group-date {
		&::before {
			content: 'â€¢';
			margin:  0 .31em;
		}
	}

	.group-description {
		margin:    0 column_gap() padding_vertical() 0;
		flex-grow: 1;

		padding:   1rem 0;
	}

	.group-join {
		margin:      (-1 * padding_vertical()) 0 padding_vertical();
		flex-basis:  calc(#{(1 / 3) * 100%} - #{(2 / 3) * column_gap()});
		flex-grow:   0;
		flex-shrink: 0;

		@include card_shadow;

		padding:     1rem;
	}

	.group-join--action {
		margin-bottom:  padding_vertical();
		padding-bottom: padding_vertical();
		border-bottom:  1px solid $color_grey_lighter;

		a {
			@include cta-style($color_dodger_blue);
			width: 100%;
		}
	}

	.group-apps {
		@include columns;

		@include medium-or-more {
			justify-content: flex-start;
		}
	}

	.group-app {
		@include columns_item(1/3);
		@include card_shadow();

		@include medium-or-more {
			&:not(:nth-child(3n+1)) {
				margin-left: column_gap();
			}
		}

		padding: 1rem;

		h2 {
			margin:      0 0 1rem;

			@include font_default_bold;

			font-size:   rem(20px);

			line-height: line_height_default();
		}
	}
}

/**************************************************
* GROUP COMPONENTS
**************************************************/

.group-members__tiny {
	@include clearulli;

	ul {
		display: inline;
	}

	li {
		display: inline-block;
	}

	.members-count {
		display:          inline-block;

		padding:          0 .5em;

		&::before {
			content: '+';
		}

		background-color: $color_grey_light;
		border-radius:    line_height_default() * .5em;
	}
}
